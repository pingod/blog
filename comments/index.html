<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>最近评论 | 小胡子哥的个人网站</title>
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=0">
  <meta name="author" content="https://plus.google.com/112634278852964994392?hl=zh-cn">
  <meta name="email" content="barret.china@gmail.com">
  <meta name="description" content="想法，随笔，思考，感叹，瞬间，笔记...">
  <meta property="og:type" content="article">
  <meta property="og:title" content="最近评论 | 小胡子哥的个人网站">
  <meta property="og:url" content="http://www.barretlee.com/comments/index.html">
  <meta property="og:site_name" content="最近评论">
  <meta property="og:description" content="想法，随笔，思考，感叹，瞬间，笔记...">
  <meta name="generator" content="https://hexo.io" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="renderer" content="webkit">
  <link href="http://www.barretlee.com/blogimgs/app-icon.png" rel="apple-touch-icon-precomposed">
  <link rel="shoticon" href="http://www.barretlee.com/favicon.ico" type="image/x-icon">
  <link rel="alternate" type="application/rss+xml" href="http://www.barretlee.com/rss2.xml" title="小胡子哥的个人网站" />
  
  
  <link rel="start" href="http://www.barretlee.com/entry/" title="Blog Entry" />
  <link rel="stylesheet" href="/public/css/style.css?v=20170205">
</head>
<span class="aria-readonly" tabindex="0" aria-hidden="true">小胡子哥的博客良好支持读屏软件阅读，请放心使用。</span>


<body>
  <div class="rainbow"></div>
  
	<div class="container message">
	<div class="cate-wraper post">
		<h2>
      <a href="/rss2.xml" class="web-feed" title="RSS订阅" target="_blank" aria-hidden="true"><i class="func-rss icon">&#x25c8;</i></a>
			<a href="/" tabindex="0" aria-label="回到小胡子哥首页导航">小胡子哥</a> <font aria-hidden="true">» 最新评论</font>
       <em  class="arrow-expend" tabindex="0" aria-hidden="0" aria-label="点击展开网页导航" aria-selected="true" aria-lable="网页导航" aria-expanded="false" id="i1">▾
        <ul role="group" aria-labelledby="i1" aria-expanded="false">
          <li><a href="/entry/">博客</a></li>
          <li><a href="/message/">问答</a></li>
          <li><a href="/about/">关于</a></li>
          <li><a href="/demo/">实验室</a></li>
          <li><a href="/friends/">友情链接</a></li>
        </ul>
      </em>
		</h2>
    <h3>最近 200 位访客 <small style="margin-left; 10px; display:none;" id="commentVisitorHook"><a href="javascript:void 0;">view</a></small></h3>
    <div class="ds-recent-visitors" data-num-items="200"></div>
    <h3>最近 50 条评论</h3>
		<div class="ds-recent-comments" data-num-items="50" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="70"></div>
		



<div class="ds-thread" tabindex="0" aria-hidden="true" data-thread-key="comments/index.html" data-title="最近评论" data-url="http://www.barretlee.com/comments/index.html" data-name="barretlee">
	<div class="ds-loading">
		<img src="/blogimgs/loading.gif" alt="loading..."/>
		<p>这网速真是弱爆了...客官稍等,评论还在加载~</p>
	</div>
</div>





<div class="website-info" aria-hidden="true">
	<span>&copy;2013-2017 <small><a href="http://www.miitbeian.gov.cn/" about="_blank">湘ICP备14007107号-1</a></small></span>
	本站由 <a href="/">小胡子哥</a> 纯手工打造 | <a href="/about#contact">联系方式</a> | 总热度：<em id="busuanzi_value_site_pv"></em>
</div>

	</div>
</div>
<div class="sidebar" tabindex="0" aria-hidden="true">
	<div class="func-btns func-btns-up">
    <span class="func-item">
        <i class="func-nav icon">&#xe618;<span>目录</span></i>
        <div>
          <i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <a href="javascript:void(0);" onclick="return false;">显示目录</a>
        </div>
    </span>
    <span class="func-item">
        <i class="func-font icon">&#xe604;<span>设置</span></i>
        <div class="font-choose-box">
          <i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <div class="font-choose bg-choose">
            <a href="javascript:void(0)" onclick="return false;" class="bg-type bg-type-sun font-type-song"><i class="icon">&#xe61a;</i></a>
            <a href="javascript:void(0)" onclick="return false;" class="bg-type bg-type-moon font-type-hei"><i class="icon">&#xe619;</i></a>
          </div>
          <div class="font-choose">
            <a href="javascript:void(0)" onclick="return false;" class="font-type font-type-song">黑体</a>
            <a href="javascript:void(0)" onclick="return false;" class="font-type font-type-hei">宋体</a>
          </div>
        </div>
    </span>
    <span class="func-item">
        <a href="http://weibo.com/173248656" target="_blank"><i class="func-fb icon">博<span>分享</span></i></a>
        <div><i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <p class="seperator sharecanvas"><a href="javascript: void(0);">截屏分享</a></p>
          <p><a href="http://weibo.com/173248656" target="_blank">微博关注</a></p>
        </div>
    </span>
    <span class="func-item">
        <i class="func-about icon">&#x263b;<span>关于</span></i>
        <div>
          <i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <p><a href="/about/" class="func-about-link" target="_blank">关于作者</a></p>
          <div id="followMeOnWeibo"></div>
        </div>
    </span>
	</div>
	<div class="func-btns">
    <span class="func-item">
        <a href="http://demo.barretlee.com" target="_blank"><i class="func-rss icon">&#xe603;<span>实验</span></i></a>
        <div><i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <p class="seperator"><a href="http://demo.barretlee.com" target="_blank">Demo平台</a></p>
          <p class="seperator"><a href="http://md.barretlee.com" target="_blank">WX格式</a></p>
          <p><a href="http://snippets.barretlee.com" target="_blank">Snippet应用</a></p>
        </div>
    </span>
    <span class="func-item">
        <i class="func-fb icon">&#x2121;<span>留言</span></i>
        <div><i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <p class="seperator"><a href="/message/" target="_blank">给我留言</a></p>
          <p><a href="/comments/" target="_blank">近期留言</a></p>
        </div>
    </span>
    <span class="func-item">
        <a href="/friends/" target="_blank"><i class="func-rss icon">&#xe601;<span>友链</span></i></a>
        <div><i class="left-arrow"></i><i class="left-arrow-clone"></i>
          <a href="/friends/" target="_blank">友情链接</a>
        </div>
    </span>
    <span class="func-item">
        <a href="/rss2.xml" target="_blank"><i class="func-rss icon">&#x25c8;<span>订阅</span></i></a>
        <div><i class="left-arrow"></i><i class="left-arrow-clone"></i><a href="/rss2.xml" target="_blank">订阅我吧！</a></div>
    </span>
	</div>
</div>

<script>
window.onload = function() {
  try {
    var arr = JSON.parse(localStorage.getItem('__guests__'));
    var ret = {};
    for(var i = 0; i < arr.length; i++) {
      var item = arr[i];
      if(ret[item.n]) {
        continue;
      } else {
        ret[item.n] = item;
      }
    }
    var data = [];
    for(var key in ret) {
      data.push(ret[key]);
    }
    localStorage.setItem('__guests__', JSON.stringify(data));
  }catch(e){}
  // store
  var CommentVisitor = function(){
    this.bind();
  };

  CommentVisitor.prototype.bind = function(){
    var self = this;
    self.timer = setInterval(function(){
      if($(".ds-avatar").size() > 0) {
        clearInterval(self.timer);
        self.storeGuests();
        $(".ds-avatar a").removeAttr('onclick');
        $("#commentVisitorHook").show();
      }
    }, 200);
    $("#commentVisitorHook a").on("click", function(evt){
      evt.preventDefault();
      self.showVisitors();
    });
  };

  CommentVisitor.prototype._unique = function(arr, key){
    arr = arr || [];
    if(!key) return $.unique(arr);
    var ret = [], hash = {};
    for(var i = 0, len = arr.length; i < len; i++) {
      if(arr[i][key] in hash) {
        continue;
      } else {
        hash[arr[i][key]] = 1;
        ret.push(arr[i]);
      }
    }
    return ret;
  };

  CommentVisitor.prototype.storeGuests = function(open){
    var urls = [];
    $(".ds-avatar a").each(function(){
      var blog = $(this).attr('href');
      if(!/weibo\.com|t\.qq\.com|baidu\.com|javascript|douban\.com/.test(blog)){
        var $img = $(this).find("img");
        urls.push({
          n: $img.attr("alt"),
          a: $img.attr("src"),
          u: blog
        });
      }
    });
    urls = this._unique(urls, 'u');
    // if(open) {
    //   for(var i = 0; i < urls.length; i++) window.open(urls[i]['u']);
    // }
    var store = localStorage.getItem('__guests__');
    var originLen = 0;
    if(store){
      store = JSON.parse(store);
      originLen = store.length;
    } else {
      store = [];
    }
    store = urls.concat(store);
    store = this._unique(store, 'u');
    if(store.length > originLen) {
      localStorage.setItem("__guests__", JSON.stringify(store));
    }
  };

  CommentVisitor.prototype.showVisitors = function(){
    var style = (function(){/*
    <style>
      body {
        font-family: Georgia, serif;
      }
      * {
        transition: 0.2s all;
        -webkit-user-select: none;
      }
      h1 {
        text-align: center;
      }
      ul::after {
        content: "[ Total " counter(unread) " visitors ]";
        color: #F40;
        margin-left: 6px;
        line-height: 70px;
        font-size: 20px;
      }
      ul {
        font-size: 12px;
        counter-reset: unread;
      }
      li {
        border: 1px solid #EEE;
        list-style: none;
        height: 50px;
        line-height: 20px;
        box-shadow: 3px 3px 5px #CCC;
        margin-bottom: 10px;
        width: 300px;
        padding: 8px 12px;
        float: left;
        margin-right: 20px;
        counter-increment: unread;
      }
      li:hover {
        background: #F1F1F1;
      }
      img {
        width: 50px;
        height: 50px;
        border-radius: 100%;
        vertical-align: middle;
        margin-right: 10px;
        float: left;
      }
      a {
        text-decoration: none;
        margin-right: 20px;
        width: 200px;
        vertical-align: middle;
        overflow: hidden;
        text-overflow: ellipsis;
        display: block;
        color: orange;
      }
      a:visited {
        color: #666;
      }
    </style>
    */}).toString().replace(/^[\s\S]+?\/\*|\*\/[\s\S]*?$/gm, '');
    var store = localStorage.getItem('__guests__');
    if(store) {
      store = JSON.parse(store);
      store = this._unique(store, 'u');
      var str = ['<ul>'];
      for(var i = 0, len = store.length; i < len; i++) {
        var a = store[i]['a'];
        var n = store[i]['n'];
        var u = store[i]['u'];
        str.push("<li><img src='" + a + "'><span>" + n + "</span><a target='_blank' href='" + u + "'>" + u +
          "</a></li>");
      }
      str.push("</ul>");
      var DOMStr = "<head><link rel='shortcut icon' href='//www.barretlee.com/favicon.ico' type='image/x-icon'></head><h1>小胡子哥的个人网站回访名单</h1>" + str.join("\n") + style;

      if(window.URL && window.URL.createObjectURL) {
        window.open(URL.createObjectURL(new Blob([DOMStr], {
          type: "text/html; charset=UTF-8"
        })));
      } else {
        var blank = window.open("about:blank");
        blank.document.write(DOMStr);
        blank.document.close();
        blank.opener = null;
      }
    }
  };

  setTimeout(function() {
    window.commentVisitor = new CommentVisitor();
  }, 1E3);
};
</script>


</body>
<script src="/public/js/jquery.js"></script>
<script src="/public/js/socket.io.js"></script>
<script>
  window.onerror = function(e) {
    window.console && window.console.log && window.console.log(e);
    return true;
  };
</script>
<script src="/public/js/aplayer.js"></script>
<script src="/public/js/main.js?v=20170205"></script>
</script>
</html>
